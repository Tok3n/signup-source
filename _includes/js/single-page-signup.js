// Generated by CoffeeScript 1.7.1
(function() {
  window.Signup = (function() {
    var appInitialView, initialViewName, switcher, timer, tockFormat, tockOptions, viewSwitcheroptions;
    appInitialView = "#signupHome";
    if (location.hash === "" || location.hash === "#") {
      initialViewName = appInitialView;
    } else {
      initialViewName = location.hash;
    }
    viewSwitcheroptions = {};
    viewSwitcheroptions.views = ".view-wrapper";
    viewSwitcheroptions.container = ".view-wrapper-inner";
    viewSwitcheroptions.initialView = initialViewName;
    App.switcher = switcher = ViewSwitcher(viewSwitcheroptions);
    $(window).on("hashchange", function(event) {
      var name, view;
      if (location.hash === "" || location.hash === "#") {
        name = appInitialView.substring(1);
      } else {
        name = location.hash.substring(1);
      }
      view = switcher.selectView(name);
      if (view) {
        return switcher(name);
      }
    });
    tockOptions = {
      countdown: true,
      interval: 500,
      callback: function() {
        return $(".code-countdown").html(tockFormat(timer.msToTime(timer.lap())));
      },
      complete: function() {
        return console.log("Tock complete");
      }
    };
    tockFormat = function(rawTime) {
      return rawTime.split(".")[0].substring(1);
    };
    App.timer = timer = new Tock(tockOptions);
    $(window).on("hashchange", function() {
      return timer.stop();
    });
    return switcher.on("renderComplete", function(event, name, view) {
      if (name === "confirmCode") {
        return timer.start(120000);
      }
    });
  })();

  (function() {
    var InputCollection, inputs, signupRadio, userData;
    InputCollection = InputJS.InputCollection;
    inputs = [];
    inputs.push(document.querySelector("#firstNameInput"));
    inputs.push(document.querySelector("#lastNameInput"));
    inputs.push(document.querySelector("#emailInput"));
    inputs.push(document.querySelector("#countrySelect"));
    inputs.push(document.querySelector("#phoneNumberInput"));
    App.signupRadio = signupRadio = new InputCollection(document.querySelectorAll("[name='signupOptions']"));
    App.userData = userData = new InputCollection(inputs);
    App.userData.addEventListener("change", function(event) {
      return console.log(JSON.stringify(this.hashValues()));
    });
    return App.signupRadio.addEventListener("change", function(event) {
      return console.log(this.value());
    });
  })();

}).call(this);
